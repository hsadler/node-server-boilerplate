<!DOCTYPE html>
<html>

  <head>

    <meta charset="UTF-8" />

    <title>Node.js Sever Boilerplate</title>

    <!-- favicon image, if exists -->
    <link rel="icon" type="image/png" href="/assets/favicon.png">

    <!-- jQuery -->
    <script src="/scripts/jquery.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/styles/bootstrap.css">
    <script src="/scripts/bootstrap.js"></script>

    <!-- our custom css -->
    <link rel="stylesheet" href="/styles/main.css">

  </head>

  <body>

    <div class="row">
      <div class="app-container col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1">

        <h1>Node.js Sever Boilerplate App</h1>
        <p>This application sends a message request to your Node server. The server's response is then printed below.</p>

        <div class="form-inline">
          <input class="form-control" id="message-input" placeholder="send the server a message.."/>
          <button class="btn btn-primary" id="message-submit-button">send</button>
        </div>

        <p id="response-output"></p>

      </div>
    </div>

    <!-- script to send a message to the server -->
    <script>

      var sendMessage = function(message) {
        $.ajax({
          url: 'api/user/sampleEndpoint?message=' + message,
          type: 'GET',
          dataType: 'text',
          success: function(data) {
            $('#response-output').html(data);
          },
          error: function(xhr, status, errorThrown) {
            throw new Error('Error in message send. Error information: ' + xhr + ' ' + status + ' ' + errorThrown);
          }
        });
      };

      $('#message-submit-button').on('click', function() {
        var message = $('#message-input').val();
        sendMessage(message);
      });

    </script>

  </body>

</html>
